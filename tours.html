<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuxuryHaven - Đặt Phòng Khách Sạn Trực Tuyến</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Thêm SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css">
    <style>
    body {
        background: #f5f6fa;
        font-family: 'Segoe UI', Arial, sans-serif;
    }

    /* Navbar Styles */
    .navbar {
        background: rgba(255, 255, 255, 0.98);
        box-shadow: 0 2px 20px rgba(0,0,0,0.08);
        padding: 0;
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 1000;
        transition: all 0.3s ease;
    }

    /* Updated Navbar Styles */
    .nav-flex {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 80px;
        padding: 0 20px;
        gap: 20px;
    }

    .navbar-brand img {
        height: 60px;
        width: auto;
        padding: 5px 0;
    }

    .nav-search {
        flex: 0 1 300px;
        margin: 0 20px;
    }

    .search-input-group {
        display: flex;
        align-items: center;
        background: #f7f7f7;
        border-radius: 24px;
        padding: 6px 16px;
        width: 100%;
        transition: all 0.3s ease;
    }

    .search-input-group:focus-within {
        background: #fff;
        box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    }

    .search-input-group input {
        border: none;
        background: transparent;
        padding: 8px 12px;
        font-size: 0.95rem;
        width: 100%;
        outline: none;
    }

    .search-input-group button {
        background: none;
        border: none;
        color: #1a237e;
        padding: 0;
        cursor: pointer;
        transition: color 0.2s;
    }

    .search-input-group button:hover {
        color: #0d47a1;
    }

    .nav-right {
        display: flex;
        align-items: center;
        gap: 16px;
    }


    .logo {
        font-size: 40px;
        font-weight: 800;
        background: linear-gradient(45deg, #1a237e, #0d47a1);
        -webkit-text-fill-color: transparent;
        letter-spacing: -1px;
        font-family: 'Playfair Display', serif;
    }

    .nav-links {
        display: flex;
        align-items: center;
        gap: 25px;
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .nav-links li a {
        color: #1a237e;
        font-weight: 600;
        font-size: 0.95rem;
        text-decoration: none;
        padding: 8px 0;
        transition: all 0.3s ease;
        position: relative;
        white-space: nowrap;
    }

    .nav-links li a:after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 0;
        background: linear-gradient(45deg, #1a237e, #0d47a1);
        transition: width 0.3s ease;
    }

    .nav-links li a:hover:after,
    .nav-links li a.active:after {
        width: 100%;
    }

    .language-switch {
        font-size: 1.2rem;
        padding: 0 5px;
    }

    .btn-outline-primary {
        padding: 8px 15px;
        font-size: 0.95rem;
        white-space: nowrap;
    }

    @media (max-width: 1200px) {
        .nav-links {
            gap: 15px;
        }
        
        .nav-search {
            flex: 0 1 250px;
        }
    }

    @media (max-width: 992px) {
        .nav-search {
            display: none;
        }
        
        .nav-links li a {
            font-size: 0.9rem;
        }
    }

    @media (max-width: 768px) {
        .nav-links {
            display: none;
        }
        
        .navbar-brand img {
            height: 50px;
        }
    }

    /* Dropdown Styles */
    .dropdown {
        position: relative;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.98);
        min-width: 220px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        border-radius: 12px;
        padding: 12px 0;
        opacity: 0;
        transition: all 0.3s ease;
        z-index: 1000;
    }

    .dropdown:hover .dropdown-content {
        display: block;
        opacity: 1;
        transform: translateX(-50%) translateY(8px);
    }

    .dropdown-content a {
        color: #1a237e;
        padding: 12px 24px;
        display: block;
        font-weight: 500;
        transition: all 0.2s ease;
        position: relative;
        z-index: 1;
    }

    .dropdown-content a:hover {
        background: rgba(26, 35, 126, 0.05);
        color: #0d47a1;
        transform: translateX(5px);
    }

    /* User Dropdown Styles */
    #user-dropdown .dropdown-menu {
        background: rgba(255, 255, 255, 0.98);
        border: none;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        padding: 8px 0;
    }

    #user-dropdown .dropdown-item {
        color: #1a237e;
        padding: 12px 24px;
        font-weight: 500;
        transition: all 0.2s ease;
    }

    #user-dropdown .dropdown-item:hover {
        background: rgba(26, 35, 126, 0.05);
        color: #0d47a1;
        transform: translateX(5px);
    }

    #user-dropdown .dropdown-item i {
        margin-right: 8px;
        color: #1a237e;
    }

    .btn-outline-primary {
        background: transparent;
        border: 2px solid #1a237e;
        color: #1a237e;
        padding: 8px 24px;
        border-radius: 30px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .btn-outline-primary:hover {
        background: linear-gradient(45deg, #1a237e, #0d47a1);
        border-color: transparent;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(26, 35, 126, 0.2);
    }

    /* Hero Section */
    .hero-section {
        background: linear-gradient(rgba(0,0,0,0.35),rgba(0,0,0,0.35)), url('images/vecteezy_ai-generated-travelling-to-thailand-advertisment-background_37248582.jpg') center/cover no-repeat;
        height: 100vh;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .hero-content {
        text-align: center;
        width: 100%;
        max-width: 1200px;
        padding: 0 20px;
        margin-top: 20px;
    }

    .nautica-script {
        font-family: 'Nautica Script Bold', cursive;
        font-size: 6em;
        font-weight: bold;
        color: #cddae6;
        text-align: center;
        position: absolute;
        width: 100%;
        top: 45%;
        left: 50%;
        transform: translateX(-50%);
        z-index: 2;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        margin-bottom: 0;
        line-height: 0.8;
    }

    .hero-content h1 {
        font-size: 4rem;
        font-weight: 700;
        margin-top: 0;
        margin-bottom: 15px;
        color: #fff;
        text-shadow: 0 2px 8px rgba(0,0,0,0.15);
        line-height: 1.2;
    }

    .hero-content p {
        font-size: 1.4rem;
        color: #f5f6fa;
        margin: 0;
        text-shadow: 0 1px 4px rgba(0,0,0,0.2);
    }
    .search-container {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 4px 24px rgba(0,0,0,0.10);
        padding: 24px 20px 12px 20px;
        max-width: 900px;
        margin: 0 auto;
        position: relative;
        z-index: 2;
    }
    .search-tabs {
        display: flex;
        gap: 24px;
        margin-bottom: 18px;
        border-bottom: 2px solid #eee;
    }
    .search-tab {
        background: none;
        border: none;
        font-weight: 600;
        font-size: 1.1rem;
        color: #222;
        padding: 0 0 10px 0;
        border-bottom: 3px solid transparent;
        transition: all 0.2s;
        cursor: pointer;
    }
    .search-tab.active {
        color: #ff6600;
        border-bottom: 3px solid #ff6600;
    }
    .search-form {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        align-items: center;
        margin-bottom: 0;
    }
    .search-input-group {
        display: flex;
        align-items: center;
        background: #f7f7f7;
        border-radius: 8px;
        padding: 0 10px;
        flex: 1 1 180px;
        min-width: 180px;
    }
    .search-input-group i {
        color: #888;
        margin-right: 6px;
    }
    .search-input-group input,
    .search-input-group select {
        border: none;
        background: transparent;
        outline: none;
        width: 100%;
        padding: 10px 0;
        font-size: 1rem;
    }
    .btn-search {
        min-width: 120px;
        font-weight: 600;
        border-radius: 8px;
        margin-top: 8px;
    }
    #show-filters {
        background: #f1f1f1;
        color: #1976d2;
        border: none;
    }
    #show-filters i {
        color: #1976d2;
    }

    .section-title {
        font-size: 2.2rem;
        font-weight: 800;
        color: #003366;
        margin: 48px 0 32px 0;
        text-align: center;
        letter-spacing: -1px;
    }

    .popular-destinations, .special-offers, .hotel-categories, .why-choose-us {
        background: #f5f6fa;
        padding: 24px 0 24px 0;
    }
    .destination-card, .offer-card, .category-card, .feature-card {
        border-radius: 18px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.07);
        overflow: hidden;
        background: #fff;
        margin-bottom: 24px;
        transition: box-shadow 0.2s;
    }
    .destination-card:hover, .offer-card:hover, .category-card:hover, .feature-card:hover {
        box-shadow: 0 6px 24px rgba(0,0,0,0.13);
    }
    .destination-card img, .offer-card img, .category-card img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-top-left-radius: 18px;
        border-top-right-radius: 18px;
    }
    .destination-info, .category-content, .offer-content-overlay {
        padding: 18px 16px 12px 16px;
        color: white;
        text-align: left;
    }
    .destination-info h3, .category-content h3, .offer-content-overlay h3, .offer-content-overlay h4 {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 6px;
        color: #003366;
    }
    .destination-info p, .category-content p, .offer-content-overlay p {
        font-size: 1rem;
        color: white;
        margin-bottom: 0;
    }
    .offer-card.large img {
        height: 260px;
    }
    .offer-content-overlay .price {
        color: #ffe066;
        font-size: 1.1rem;
        font-weight: 700;
    }

    .why-choose-us .feature-card {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.07);
        padding: 32px 18px;
        text-align: center;
        height: 100%;
    }
    .why-choose-us .icon-wrapper {
        margin-bottom: 12px;
    }
    .why-choose-us .icon-wrapper i {
        color: #ff6600;
        font-size: 2.2rem;
    }
    .why-choose-us h3 {
        color: #003366;
        font-size: 1.1rem;
        font-weight: 700;
    }
    .why-choose-us p {
        color: #555;
        font-size: 1rem;
    }

    .footer {
        background: #003366;
        color: #fff;
        padding: 40px 0 0 0;
        margin-top: 40px;
    }
    .footer h4 {
        color: #fff;
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 12px;
    }
    .footer ul {
        list-style: none;
        padding: 0;
    }
    .footer ul li a {
        color: #e0e0e0;
        text-decoration: none;
        font-size: 1rem;
    }
    .footer ul li a:hover {
        color: #ffe066;
    }
    .footer-bottom {
        border-top: 1px solid #1a237e;
        margin-top: 24px;
        padding: 16px 0 0 0;
        text-align: center;
        color: #e0e0e0;
        font-size: 0.95rem;
    }
    .social-links a {
        color: #fff;
        font-size: 1.3rem;
        margin-right: 12px;
    }
    .social-links a:hover {
        color: #ffe066;
    }

    /* Bố cục section và card chuyên nghiệp, đồng nhất */
    .container {
    max-width: 100vw;
    margin: 0 auto;
    padding: 0;
    box-sizing: border-box;
}

    /* Card grid layout */
    .row {
        display: flex;
        flex-wrap: wrap;
        margin-left: -12px;
        margin-right: -12px;
    }
    .col-md-3, .col-md-6 {
        padding-left: 12px;
        padding-right: 12px;
        margin-bottom: 32px;
    }
    .col-md-3 {
        width: 25%;
    }
    .col-md-6 {
        width: 50%;
    }

    /* Card style */
    .destination-card, .category-card, .feature-card, .offer-card {
        border-radius: 18px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.07);
        background: #fff;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        height: 100%;
        transition: box-shadow 0.2s;
    }
    .destination-card img, .category-card img, .offer-card img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-top-left-radius: 18px;
        border-top-right-radius: 18px;
    }
    .destination-info, .category-content, .offer-content-overlay {
        padding: 18px 16px 12px 16px;
        color: #222;
        text-align: left;
        flex: 1 1 auto;
    }
    .destination-info h3, .category-content h3, .offer-content-overlay h3, .offer-content-overlay h4 {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 6px;
        color: white;
    }
    .destination-info p, .category-content p, .offer-content-overlay p {
        font-size: 1rem;
        color: white;
        margin-bottom: 0;
    }

    /* --- SPECIAL OFFERS LAYOUT --- */
    .special-offers .row {
        display: flex;
        flex-wrap: nowrap;
        gap: 24px;
        align-items: stretch;
        height: 400px;
        min-height: 400px;
    }
    .special-offers .col-offer-big {
        width: 52%;
        display: flex;
    }
    .special-offers .col-offer-small {
        width: 48%;
        display: flex;
        flex-direction: row;
        gap: 8px;
        align-items: center;
        height: 100%;
    }
    .special-offers .offer-card.big {
        width: 100%;
        height: 100%;
        position: relative;
    }
    .special-offers .offer-card.small {
        width: 49.5%;
        height: 80%;
        position: relative;
        display: flex;
    }
    .special-offers .offer-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .special-offers .offer-content-overlay {
        position: absolute;
        left: 0; right: 0; bottom: 0;
        width: 100%;
        background: linear-gradient(to top, rgba(0,0,0,0.45) 60%, rgba(0,0,0,0.05) 100%);
        color: #fff;
        padding: 24px 24px 18px 24px;
        z-index: 2;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
    }
    .special-offers .offer-content-overlay h3,
    .special-offers .offer-content-overlay h4 {
        color: #fff;
        font-weight: 800;
        font-size: 1.6rem;
        margin-bottom: 4px;
        text-shadow: 0 2px 8px rgba(0,0,0,0.35);
    }
    .special-offers .offer-content-overlay p {
        color: #fff;
        font-size: 1.1rem;
        margin-bottom: 2px;
        text-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }
    .special-offers .offer-content-overlay .price {
        color: #ffe066;
        font-size: 1.2rem;
        font-weight: 700;
        text-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }
    @media (max-width: 991px) {
        .special-offers .row {
            flex-direction: column;
            height: auto;
            min-height: 0;
        }
        .special-offers .col-offer-big,
        .special-offers .col-offer-small {
            width: 100%;
            height: auto;
        }
        .special-offers .col-offer-small {
            flex-direction: row;
            gap: 8px;
        }
        .special-offers .offer-card.big,
        .special-offers .offer-card.small {
            height: 180px;
            min-height: 0;
        }
    }

    /* Why choose us: 4 cột đều nhau */
    .why-choose-us .row {
        gap: 0;
    }
    .why-choose-us .col-md-3 {
        width: 25%;
        display: flex;
    }
    .why-choose-us .feature-card {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 32px 18px;
    }

    /* Footer chia 4 cột đều nhau */
    .footer .row {
        display: flex;
        flex-wrap: wrap;
        margin-left: -12px;
        margin-right: -12px;
    }
    .footer .col-md-3 {
        width: 25%;
        padding-left: 12px;
        padding-right: 12px;
        margin-bottom: 24px;
    }

    /* Responsive */
    @media (max-width: 991px) {
        .col-md-3, .why-choose-us .col-md-3, .footer .col-md-3 {
            width: 50%;
        }
        .col-md-6 {
            width: 100%;
        }
    }
    @media (max-width: 767px) {
        .col-md-3, .why-choose-us .col-md-3, .footer .col-md-3 {
            width: 100%;
        }
        .container {
            padding-left: 6px;
            padding-right: 6px;
        }
        .section-title {
            font-size: 1.3rem;
            margin: 32px 0 18px 0;
        }
    }

    /* --- HOTEL CATEGORIES LAYOUT --- */
    .hotel-categories {
        background: #f5f6fa;
        padding: 48px 0;
    }

    .hotel-categories .category-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.07);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        height: 100%;
        display: flex;
        flex-direction: column;
    }

    .hotel-categories .category-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 24px rgba(0,0,0,0.12);
    }

    .hotel-categories .category-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-top-left-radius: 12px;
        border-top-right-radius: 12px;
        transition: transform 0.3s ease;
    }

    .hotel-categories .category-card:hover img {
        transform: scale(1.1);
    }

    .hotel-categories .category-content {
        padding: 20px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        background: #fff;
    }

    .hotel-categories .category-content h3 {
        color: #003366;
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 8px;
    }

    .hotel-categories .category-content p {
        color: #666;
        font-size: 0.95rem;
        margin-bottom: 0;
        line-height: 1.5;
    }

    @media (max-width: 991px) {
        .hotel-categories .category-card img {
            height: 180px;
        }
    }

    @media (max-width: 767px) {
        .hotel-categories .category-card img {
            height: 160px;
        }
    }

    /* Nền mờ với hình ảnh lớn */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
    }
    .modal-content {
        background-color: #fefefe;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        max-width: 500px;
        border-radius: 8px;
        position: relative;
    }
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        position: absolute;
        right: 20px;
        top: 10px;
    }
    .close:hover {
        color: black;
    }
    .auth-tab {
        padding: 10px 20px;
        border: none;
        background: none;
        cursor: pointer;
        font-size: 16px;
        color: #666;
    }
    .auth-tab.active {
        color: #ffd700;
        border-bottom: 2px solid #ffd700;
    }
    .auth-form {
        margin-top: 20px;
    }
    .auth-form input {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    .auth-form button {
        width: 100%;
        padding: 12px;
        background: #ffd700;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 10px;
    }
    .auth-form button:hover {
        background: #ffd700;
    }
    .form-group {
        margin-bottom: 15px;
    }
    .form-group select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    .input-icon {
        position: relative;
    }
    .input-icon i {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: #888;
        font-size: 1rem;
    }
    .input-icon input {
        padding-left: 38px;
        width: 100%;
        height: 42px;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 1rem;
        margin-bottom: 0;
    }
    .btn-gradient {
        width: 100%;
        background: linear-gradient(90deg, #00c853, #00bfae);
        color: #fff;
        border: none;
        border-radius: 24px;
        padding: 12px 0;
        font-size: 1.1rem;
        font-weight: 600;
        margin-top: 10px;
        margin-bottom: 10px;
        transition: background 0.2s;
    }
    .btn-gradient:hover {
        background: linear-gradient(90deg, #00bfae, #00c853);
    }
    .login-links {
        display: flex;
        justify-content: space-between;
        font-size: 0.98rem;
        margin-top: 8px;
    }
    .login-links a {
        color: #1a237e;
        text-decoration: underline;
    }
    .login-links a:hover {
        color: #00bfae;
    }

    /* Combo tốt nhất styles */
    .summer-mood {
        padding: 48px 0 32px 0; 
        background: linear-gradient(120deg, #fdf6e3 0%, #e0f7fa 100%);
    }

    .summer-grid {
        display: grid; 
        grid-template-columns: repeat(4, 1fr); 
        gap: 28px; 
        margin-bottom: 18px;
    }

    .summer-card {
        background: #fff;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 2px 16px 0 rgba(42,110,220,0.08);
        transition: all 0.3s ease;
        position: relative;
        height: 320px;
    }

    .summer-card:hover {
        box-shadow: 0 8px 32px 0 rgba(42,110,220,0.18);
        transform: translateY(-8px);
    }

    .summer-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .combo-info {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(120deg,rgba(255,255,255,0.92) 60%,rgba(255,255,255,0.85) 100%);
        color: #222;
        border-radius: 16px;
        box-shadow: 0 4px 24px 0 rgba(42,110,220,0.10);
        padding: 24px;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
    }

    .combo-info h3 {
        font-size: 1.5rem;
        font-weight: 800;
        margin-bottom: 10px;
        color: #1a237e;
        text-shadow: none;
    }

    .combo-info p {
        font-size: 1.08rem;
        margin-bottom: 16px;
        color: #444;
    }

    .combo-features {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        margin-bottom: 20px;
    }

    .combo-features span {
        background: rgba(26, 35, 126, 0.05);
        color: #1a237e;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .combo-features i {
        color: #0d47a1;
    }

    .tour-price {
        color: #ffd700;
        font-weight: 700;
        font-size: 1.3rem;
        margin: 10px 0;
    }

    .btn-primary {
        background: linear-gradient(45deg, #1a237e, #0d47a1);
        border: none;
        padding: 8px 24px;
        color: white;
        border-radius: 25px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(26, 35, 126, 0.2);
    }

    /* Hero Section */
    .hero-section {
        background: linear-gradient(rgba(0,0,0,0.35),rgba(0,0,0,0.35)), url('images/vecteezy_ai-generated-travelling-to-thailand-advertisment-background_37248582.jpg') center/cover no-repeat;
        height: 100vh;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .hero-content {
        text-align: center;
        width: 100%;
        max-width: 1200px;
        padding: 0 20px;
        margin-top: 20px;
    }

    .nautica-script {
        font-family: 'Nautica Script Bold', cursive;
        font-size: 6em;
        font-weight: bold;
        color: #cddae6;
        text-align: center;
        position: absolute;
        width: 100%;
        top: 45%;
        left: 50%;
        transform: translateX(-50%);
        z-index: 2;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        margin-bottom: 0;
        line-height: 0.8;
    }

    .hero-content h1 {
        font-size: 4rem;
        font-weight: 700;
        margin-top: 0;
        margin-bottom: 15px;
        color: #fff;
        text-shadow: 0 2px 8px rgba(0,0,0,0.15);
        line-height: 1.2;
    }

    .hero-content p {
        font-size: 1.4rem;
        color: #f5f6fa;
        margin: 0;
        text-shadow: 0 1px 4px rgba(0,0,0,0.2);
    }
    .search-container {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 4px 24px rgba(0,0,0,0.10);
        padding: 24px 20px 12px 20px;
        max-width: 900px;
        margin: 0 auto;
        position: relative;
        z-index: 2;
    }
    .search-tabs {
        display: flex;
        gap: 24px;
        margin-bottom: 18px;
        border-bottom: 2px solid #eee;
    }
    .search-tab {
        background: none;
        border: none;
        font-weight: 600;
        font-size: 1.1rem;
        color: #222;
        padding: 0 0 10px 0;
        border-bottom: 3px solid transparent;
        transition: all 0.2s;
        cursor: pointer;
    }
    .search-tab.active {
        color: #ff6600;
        border-bottom: 3px solid #ff6600;
    }
    .search-form {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        align-items: center;
        margin-bottom: 0;
    }
    .search-input-group {
        display: flex;
        align-items: center;
        background: #f7f7f7;
        border-radius: 8px;
        padding: 0 10px;
        flex: 1 1 180px;
        min-width: 180px;
    }
    .search-input-group i {
        color: #888;
        margin-right: 6px;
    }
    .search-input-group input,
    .search-input-group select {
        border: none;
        background: transparent;
        outline: none;
        width: 100%;
        padding: 10px 0;
        font-size: 1rem;
    }
    .btn-search {
        min-width: 120px;
        font-weight: 600;
        border-radius: 8px;
        margin-top: 8px;
    }
    #show-filters {
        background: #f1f1f1;
        color: #1976d2;
        border: none;
    }
    #show-filters i {
        color: #1976d2;
    }

    .section-title {
        font-size: 2.2rem;
        font-weight: 800;
        color: #003366;
        margin: 48px 0 32px 0;
        text-align: center;
        letter-spacing: -1px;
    }

    .popular-destinations, .special-offers, .hotel-categories, .why-choose-us {
        background: #f5f6fa;
        padding: 32px 0 24px 0;
    }
    .destination-card, .offer-card, .category-card, .feature-card {
        border-radius: 18px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.07);
        overflow: hidden;
        background: #fff;
        margin-bottom: 24px;
        transition: box-shadow 0.2s;
    }
    .destination-card:hover, .offer-card:hover, .category-card:hover, .feature-card:hover {
        box-shadow: 0 6px 24px rgba(0,0,0,0.13);
    }
    .destination-card img, .offer-card img, .category-card img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-top-left-radius: 18px;
        border-top-right-radius: 18px;
    }
    .destination-info, .category-content, .offer-content-overlay {
        padding: 18px 16px 12px 16px;
        color: white;
        text-align: left;
    }
    .destination-info h3, .category-content h3, .offer-content-overlay h3, .offer-content-overlay h4 {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 6px;
        color: #003366;
    }
    .destination-info p, .category-content p, .offer-content-overlay p {
        font-size: 1rem;
        color: white;
        margin-bottom: 0;
    }
    .offer-card.large img {
        height: 260px;
    }
    .offer-content-overlay .price {
        color: #ffe066;
        font-size: 1.1rem;
        font-weight: 700;
    }

    .why-choose-us .feature-card {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.07);
        padding: 32px 18px;
        text-align: center;
        height: 100%;
    }
    .why-choose-us .icon-wrapper {
        margin-bottom: 12px;
    }
    .why-choose-us .icon-wrapper i {
        color: #ff6600;
        font-size: 2.2rem;
    }
    .why-choose-us h3 {
        color: #003366;
        font-size: 1.1rem;
        font-weight: 700;
    }
    .why-choose-us p {
        color: #555;
        font-size: 1rem;
    }

    .footer {
        background: #003366;
        color: #fff;
        padding: 40px 0 0 0;
        margin-top: 40px;
    }
    .footer h4 {
        color: #fff;
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 12px;
    }
    .footer ul {
        list-style: none;
        padding: 0;
    }
    .footer ul li a {
        color: #e0e0e0;
        text-decoration: none;
        font-size: 1rem;
    }
    .footer ul li a:hover {
        color: #ffe066;
    }
    .footer-bottom {
        border-top: 1px solid #1a237e;
        margin-top: 24px;
        padding: 16px 0 0 0;
        text-align: center;
        color: #e0e0e0;
        font-size: 0.95rem;
    }
    .social-links a {
        color: #fff;
        font-size: 1.3rem;
        margin-right: 12px;
    }
    .social-links a:hover {
        color: #ffe066;
    }

    /* Bố cục section và card chuyên nghiệp, đồng nhất */
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding-left: 16px;
        padding-right: 16px;
    }

    /* Card grid layout */
    .row {
        display: flex;
        flex-wrap: wrap;
        margin-left: -12px;
        margin-right: -12px;
    }
    .col-md-3, .col-md-6 {
        padding-left: 12px;
        padding-right: 12px;
        margin-bottom: 32px;
    }
    .col-md-3 {
        width: 25%;
    }
    .col-md-6 {
        width: 50%;
    }

    /* Card style */
    .destination-card, .category-card, .feature-card, .offer-card {
        border-radius: 18px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.07);
        background: #fff;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        height: 100%;
        transition: box-shadow 0.2s;
    }
    .destination-card img, .category-card img, .offer-card img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-top-left-radius: 18px;
        border-top-right-radius: 18px;
    }
    .destination-info, .category-content, .offer-content-overlay {
        padding: 18px 16px 12px 16px;
        color: #222;
        text-align: left;
        flex: 1 1 auto;
    }
    .destination-info h3, .category-content h3, .offer-content-overlay h3, .offer-content-overlay h4 {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 6px;
        color: white;
    }
    .destination-info p, .category-content p, .offer-content-overlay p {
        font-size: 1rem;
        color: white;
        margin-bottom: 0;
    }

    /* --- SPECIAL OFFERS LAYOUT --- */
    .special-offers .row {
        display: flex;
        flex-wrap: nowrap;
        gap: 24px;
        align-items: stretch;
        height: 400px;
        min-height: 400px;
    }
    .special-offers .col-offer-big {
        width: 52%;
        display: flex;
    }
    .special-offers .col-offer-small {
        width: 48%;
        display: flex;
        flex-direction: row;
        gap: 8px;
        align-items: center;
        height: 100%;
    }
    .special-offers .offer-card.big {
        width: 100%;
        height: 100%;
        position: relative;
    }
    .special-offers .offer-card.small {
        width: 49.5%;
        height: 80%;
        position: relative;
        display: flex;
    }
    .special-offers .offer-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .special-offers .offer-content-overlay {
        position: absolute;
        left: 0; right: 0; bottom: 0;
        width: 100%;
        background: linear-gradient(to top, rgba(0,0,0,0.45) 60%, rgba(0,0,0,0.05) 100%);
        color: #fff;
        padding: 24px 24px 18px 24px;
        z-index: 2;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
    }
    .special-offers .offer-content-overlay h3,
    .special-offers .offer-content-overlay h4 {
        color: #fff;
        font-weight: 800;
        font-size: 1.6rem;
        margin-bottom: 4px;
        text-shadow: 0 2px 8px rgba(0,0,0,0.35);
    }
    .special-offers .offer-content-overlay p {
        color: #fff;
        font-size: 1.1rem;
        margin-bottom: 2px;
        text-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }
    .special-offers .offer-content-overlay .price {
        color: #ffe066;
        font-size: 1.2rem;
        font-weight: 700;
        text-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }
    @media (max-width: 991px) {
        .special-offers .row {
            flex-direction: column;
            height: auto;
            min-height: 0;
        }
        .special-offers .col-offer-big,
        .special-offers .col-offer-small {
            width: 100%;
            height: auto;
        }
        .special-offers .col-offer-small {
            flex-direction: row;
            gap: 8px;
        }
        .special-offers .offer-card.big,
        .special-offers .offer-card.small {
            height: 180px;
            min-height: 0;
        }
    }

    /* Why choose us: 4 cột đều nhau */
    .why-choose-us .row {
        gap: 0;
    }
    .why-choose-us .col-md-3 {
        width: 25%;
        display: flex;
    }
    .why-choose-us .feature-card {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 32px 18px;
    }

    /* Footer chia 4 cột đều nhau */
    .footer .row {
        display: flex;
        flex-wrap: wrap;
        margin-left: -12px;
        margin-right: -12px;
    }
    .footer .col-md-3 {
        width: 25%;
        padding-left: 12px;
        padding-right: 12px;
        margin-bottom: 24px;
    }

    /* Responsive */
    @media (max-width: 991px) {
        .col-md-3, .why-choose-us .col-md-3, .footer .col-md-3 {
            width: 50%;
        }
        .col-md-6 {
            width: 100%;
        }
    }
    @media (max-width: 767px) {
        .col-md-3, .why-choose-us .col-md-3, .footer .col-md-3 {
            width: 100%;
        }
        .container {
            padding-left: 6px;
            padding-right: 6px;
        }
        .section-title {
            font-size: 1.3rem;
            margin: 32px 0 18px 0;
        }
    }

    /* --- TOUR CARD LAYOUT REDESIGN --- */
    .tour-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 32px;
  padding: 32px 16px;
  max-width: 1320px;
  margin: 0 auto;
}


    .tour-card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
    width: 280px;   /* <-- Thêm dòng này */
    justify-content: space-between;
  height: 100%;
}
@media (max-width: 1300px) {
  .tour-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (max-width: 700px) {
  .tour-grid {
    grid-template-columns: 1fr;
  }
}
.tour-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 24px rgba(0,0,0,0.12);
    }

.tour-image {
    width: 100%;
    height: 210px;
    background: #f2f2f2;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
}
.tour-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
    transition: transform 0.3s;
}
.tour-card:hover .tour-image img {
    transform: scale(1.06);
}

.tour-content {
    flex-grow : 1;
    width: 100%;
       padding: 28px 24px 20px 24px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
}
.tour-name {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1a237e;
    margin-bottom: 4px;
    line-height: 1.3;
}
.tour-rating {
    display: flex;
    gap: 3px;
    margin-bottom: 2px;
}
.tour-rating i {
    color: #ffd700;
    font-size: 1.1rem;
}
.tour-location {
    font-size: 1rem;
    color: #0066cc;
    display: flex;
    align-items: center;
    gap: 6px;
}
.tour-features {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    min-height: 72px; /* Tùy chỉnh độ cao đồng đều */
}

.tour-features > div {
    margin-bottom: 2px;
}
.tour-btn {
    width: 100%;
    padding: 14px 0;
    background: linear-gradient(90deg, #1a237e 60%, #0066cc 100%);
    color: #fff;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1.08rem;
    margin-top: auto;
    box-shadow: 0 2px 8px rgba(42,110,220,0.10);
    transition: background 0.2s, transform 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    cursor: pointer;
    text-decoration: none;
}
.tour-btn:hover {
    background: linear-gradient(90deg, #0066cc 60%, #1a237e 100%);
    transform: translateY(-2px) scale(1.02);
    color: #fff;
    text-decoration: none;
}

@media (max-width: 1200px) {
    .tour-card {
        width: 45vw;
        min-width: 260px;
        max-width: 360px;
    }
    .tour-grid {
        gap: 24px;
    }
}
@media (max-width: 768px) {
    .tour-grid {
        flex-direction: column;
        align-items: center;
        gap: 18px;
    }
    .tour-card {
        width: 100%;
        min-width: 0;
        margin: o auto;
        max-width: 370px;
    }
    .tour-image {
        height: 180px;
    }
    .tour-content {
        padding: 18px 10px 16px 10px;
    }
}
    </style>
    <style>
        @font-face {
          font-family: 'Nautica Script Bold';
          src: url('fonts/nautica-bold.otf') format('opentype');
          font-weight: bold;
          font-style: normal;
        }
        .nautica-script {
          font-family: 'Nautica Script Bold', cursive;
          font-size: 6em;
          font-weight: bold;
          color: #cddae6;
          text-align: center;
        }
        @media (max-width: 1200px) {
            .tour-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 768px) {
            .tour-grid {
                grid-template-columns: 1fr;
            }
        }
                .tour-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
            flex-wrap: wrap;
            padding: 0 20px;
        }
        .modal-backdrop.show {
    z-index: 1050 !important;
}
.modal.show {
    z-index: 1060 !important;
    display: block;
}
.content-wrapper {
    display: flex;
    max-width: 1400px;
    margin: 48px auto;
    background: #fff;
    border-radius: 20px;
    box-shadow: 0 4px 32px rgba(44,62,80,0.10);
    overflow: hidden;
    min-height: 350px;
}
.image-section {
    flex: 2;
    min-width: 0;
}
.image-section img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}
.text-section {
    flex: 1;
    padding: 0px 32px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}
@media (max-width: 900px) {
    .content-wrapper {
        flex-direction: column;
    }
    .image-section, .text-section {
        flex: unset;
        width: 100%;
    }
    .text-section {
        padding: 0px 16px;
    }
}
.section-photo-memories {
  margin-top: 16px;
  margin-bottom: 32px;
}

      </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-flex">
                <!-- Logo -->
                <a class="navbar-brand" href="#">
                    <img src="images/LuxuryHavenTravel.png" alt="LuxuryHaven Logo">
                </a>

                <!-- Search Box -->
                <div class="nav-search">
                    <div class="search-input-group">
                        <input type="text" placeholder="Tìm kiếm...">
                        <button type="button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                <div class="nav-right">
                    <ul class="nav-links">
                        <li><a href="index.html" >Trang chủ</a></li>
                        <li><a href="hotel.html" >Khách sạn</a></li>
                    
                        <li class="dropdown"><a href="tours.html" class="active">Tours</a></li>
                        
                        <li class="dropdown"><a href="prioritize.html">Ưu đãi</a></li>
                        <li class="dropdown"><a href="travel_guide.html">Cẩm nang du lịch</a></li>
                        <li class="dropdown"><a href="about_us.html">Về chúng tôi</a></li>
                        <!-- <li class="dropdown"><a href="vuichoi.html">🌐</a></li> -->

                        <li>
                            <div class="d-flex align-items-center">
                                <div class="dropdown" id="user-dropdown" style="display:none;">
                                    <button class="btn btn-outline-primary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-user"></i> <span id="user-name"></span>
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="userDropdown">
                                        <li><a class="dropdown-item" href="member.html"><i class="fas fa-user-circle"></i> Tài khoản</a></li>
                                        <li><a class="dropdown-item" href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a></li>
                                    </ul>
                                </div>
                                <a href="#" class="btn btn-outline-primary me-2" id="open-login-modal">
                                    <i class="fas fa-user"></i> Đăng nhập
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section with Search -->
    <section class="hero-section">
        <p class="nautica-script">LuxuryHavenTravel</p>
        <div class="hero-content"><br><br><br><br><br><br><br><br>
            
            <h1>Khám phá những kỳ nghỉ tuyệt vời</h1>
            <p>Đặt phòng khách sạn, tour du lịch, vé máy bay với giá tốt nhất</p>
        </div><br><br><br><br><br><br><br><br>
    </section>

   <main>
    
        <!-- Tours Section -->
        <section class="tours-section py-5">
            <div class="content-wrapper">
        <div class="image-section">
            <img src="images/vecteezy_ai-generated-travelling-to-thailand-advertisment-background_37248582.jpg" alt="Luxury Haven Travel">
        </div>
        <div class="text-section">
            <h2>Khám phá hành trình trong mơ cùng LuxuryHavenTravel</h2>
            <p>Chúng tôi không chỉ cung cấp các tour du lịch, mà còn mang đến những hành trình được thiết kế đặc biệt, kết hợp giữa nghỉ dưỡng và khám phá văn hóa – giúp bạn tận hưởng từng phút giây trên từng cung đường.</p>
            <p>Từ những tour nội địa hấp dẫn đến các điểm đến quốc tế độc đáo, hãy để LuxuryHavenTravel là người bạn đồng hành đáng tin cậy trên mọi hành trình của bạn.</p>
        </div>
    </div>
            <div class="container">
                <h2 class="section-title">✨ TOURS DU LỊCH</h2>
                
                <!-- Tour Type Navigation -->
                <div class="tour-nav mb-4">
                    <button class="btn btn-outline-primary me-3 active" data-type="all">
                        Tất cả (19)
                    </button>
                    <button class="btn btn-outline-primary me-3" data-type="adventure">
                        Mạo hiểm (7)
                    </button>
                    <button class="btn btn-outline-primary me-3" data-type="cultural">
                        Văn hóa (7)
                    </button>
                    <button class="btn btn-outline-primary" data-type="eco">
                        Sinh thái (5)
                    </button>
                </div>

                <!-- Tour Grid -->
                <div id="tours-grid" class="tour-grid">
                    <!-- Tours will be dynamically inserted here -->
                </div>

                <!-- Tour Detail Modal -->
                <div class="modal fade" id="tourDetailModal" tabindex="-1" aria-labelledby="tourDetailModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-lg modal-dialog-scrollable">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="tourDetailModalLabel">Chi tiết tour</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
                      </div>
                      <div class="modal-body" id="tour-detail-content">
                        <!-- Nội dung chi tiết sẽ được render vào đây -->
                      </div>
                    </div>
                  </div>
                </div>
            </div>
        </section>
        <section class="container section-photo-memories">
        <section class="container my-5">
            <h2 class="section-title">📸 Những khoảnh khắc đáng nhớ</h2>
            <div class="row">
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <img src="images/vecteezy_ai-generated-travelling-to-thailand-advertisment-background_37248582.jpg" class="card-img-top" alt="Khoảnh khắc 1">
                        <div class="card-body">
                            <h5 class="card-title">Chạm vào thiên nhiên</h5>
                            <p class="card-text">Khám phá những vùng đất hoang sơ, nơi thiên nhiên vẫn giữ nguyên nét đẹp thuần khiết.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <img src="images/vecteezy_ai-generated-travelling-to-thailand-advertisment-background_37248582.jpg" class="card-img-top" alt="Khoảnh khắc 2">
                        <div class="card-body">
                            <h5 class="card-title">Văn hóa & Con người</h5>
                            <p class="card-text">Gặp gỡ người bản địa và trải nghiệm văn hóa độc đáo tại các điểm đến đầy màu sắc của các bản làng.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card shadow-sm">
                        <img src="images/vecteezy_ai-generated-travelling-to-thailand-advertisment-background_37248582.jpg" class="card-img-top" alt="Khoảnh khắc 3">
                        <div class="card-body">
                            <h5 class="card-title">Những phút giây hạnh phúc</h5>
                            <p class="card-text">Tận hưởng những khoảnh khắc đáng nhớ cùng người thân và bạn bè trong từng hành trình.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
   </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <h4>Về LuxuryHavenTravel</h4>
                    <ul>
                        <li><a href="footer\about.html">Giới thiệu</a></li>
                        <li><a href="footer\recruitment.html">Tuyển dụng</a></li>
                        <li><a href="footer\news.html">Tin tức</a></li>
                        <li><a href="footer\contact.html">Liên hệ</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h4>Hỗ trợ</h4>
                    <ul>
                        <li><a href="footer\help-center.html">Trung tâm trợ giúp</a></li>
                        <li><a href="footer\privacy-policy.html">Chính sách bảo mật</a></li>
                        <li><a href="footer\terms.html">Điều khoản sử dụng</a></li>
                        <li><a href="footer\cookie-policy.html">Chính sách cookie</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h4>Đối tác</h4>
                    <ul>
                        <li><a href="footer\partner.html">Đăng ký làm đối tác</a></li>
                        <li><a href="footer\marketing.html">Chương trình tiếp thị</a></li>
                        <li><a href="footer\affiliate.html">Affiliate</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h4>Theo dõi chúng tôi</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 LuxuryHaven. Tất cả quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <!-- Auth Modal -->
<div id="auth-modal" class="modal">
    <div class="modal-content" style="max-width: 400px; padding: 32px 28px 24px 28px; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.18);">
        <span class="close" id="close-auth-modal" style="right: 18px; top: 12px; font-size: 32px;">&times;</span>
        
        <div id="auth-forms">
            <form id="login-form" class="auth-form" style="text-align:center;">
                <div class="form-group" style="margin-bottom: 18px; text-align:left;">
                    <label for="login-email" style="font-weight: 500;">Email</label>
                    <div class="input-icon">
                        <i class="fas fa-user"></i>
                        <input type="email" id="login-email" placeholder="e.g. elon@tesla.com" required />
                    </div>
                </div>
                <div class="form-group" style="margin-bottom: 18px; text-align:left;">
                    <label for="login-password" style="font-weight: 500;">Mật khẩu</label>
                    <div class="input-icon">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="login-password" placeholder="e.g. ilovemangools123" required />
                    </div>
                </div>
                <button type="submit" class="btn-gradient">Đăng nhập</button>
                <div class="login-links">
                    <a href="#" id="to-register">Không có tài khoản?</a>
                    <a href="#" id="to-forgot">Quên mật khẩu?</a>
                </div>
            </form>

            <form id="register-form" class="auth-form" style="display: none; text-align:center;">
                <div class="form-group" style="margin-bottom: 18px; text-align:left;">
                    <label for="register-username" style="font-weight: 500;">Tên người dùng</label>
                    <div class="input-icon">
                        <i class="fas fa-user"></i>
                        <input type="text" id="register-username" placeholder="Nhập tên của bạn" required />
                    </div>
                </div>
                <div class="form-group" style="margin-bottom: 18px; text-align:left;">
                    <label for="register-email" style="font-weight: 500;">Email</label>
                    <div class="input-icon">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="register-email" placeholder="Nhập email của bạn" required />
                    </div>
                </div>
                <div class="form-group" style="margin-bottom: 18px; text-align:left;">
                    <label for="register-password" style="font-weight: 500;">Mật khẩu</label>
                    <div class="input-icon">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="register-password" placeholder="Tối thiểu 6 ký tự" required />
                    </div>
                </div>
                <div class="form-group" style="margin-bottom: 18px; text-align:left;">
                    <label for="register-confirm-password" style="font-weight: 500;">Xác nhận mật khẩu</label>
                    <div class="input-icon">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="register-confirm-password" placeholder="Nhập lại mật khẩu" required />
                    </div>
                </div>
                <button type="submit" class="btn-gradient">Đăng ký</button>
                <div class="login-links">
                    <a href="#" id="to-login">Đã có tài khoản? Đăng nhập</a>
                </div>
            </form>

            <form id="forgot-form" class="auth-form" style="display: none; text-align:center;">
                <div class="form-group" style="margin-bottom: 18px; text-align:left;">
                    <label for="forgot-email" style="font-weight: 500;">Email</label>
                    <div class="input-icon">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="forgot-email" placeholder="Nhập email của bạn" required />
                    </div>
                </div>
                <button type="submit" class="btn-gradient">Gửi yêu cầu đặt lại mật khẩu</button>
                <div class="login-links">
                    <a href="#" id="back-to-login">Quay lại đăng nhập</a>
                </div>
            </form>
        </div>
    </div>
</div> 

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
    // Firebase config và xử lý xác thực
    const firebaseConfig = {
        apiKey: "AIzaSyDuX4_RKARM7g0K3BvoZPS8ADxVgrYQKYc",
        authDomain: "websitedatphongkhachsan.firebaseapp.com",
        databaseURL: "https://websitedatphongkhachsan-default-rtdb.firebaseio.com",
        projectId: "websitedatphongkhachsan",
        storageBucket: "websitedatphongkhachsan.firebasestorage.app",
        messagingSenderId: "732884739524",
        appId: "1:732884739524:web:a9c34746f5704a9c3eb091",
        measurementId: "G-RC61EXTZH7"
    };

    // Khởi tạo Firebase
    firebase.initializeApp(firebaseConfig);

    // Đợi DOM load xong
    document.addEventListener('DOMContentLoaded', function() {
        // Lấy các elements
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const forgotForm = document.getElementById('forgot-form');
        const closeAuthModal = document.getElementById('close-auth-modal');
        const openLoginModal = document.getElementById('open-login-modal');
        const userDropdown = document.getElementById('user-dropdown');
        const userName = document.getElementById('user-name');
        const logoutBtn = document.getElementById('logout-btn');

        // Xử lý đăng nhập
        if (loginForm) {
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;

                firebase.auth().signInWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        const user = userCredential.user;
                        document.getElementById('auth-modal').style.display = 'none';
                        
                        // Kiểm tra nếu là admin
                        if (email === 'quantrikhachsan@gmail.com') {
                            Swal.fire({
                                title: 'Đăng nhập thành công!',
                                text: 'Chào mừng Admin!',
                                icon: 'success',
                                confirmButtonColor: '#e67e22'
                            }).then(() => {
                                window.location.href = 'admin-dashboard.html';
                            });
                        } else if (email === 'nhanvien2@luxuryhaven.com') {
                            Swal.fire({
                                title: 'Đăng nhập thành công!',
                                text: 'Chào mừng Nhân viên!',
                                icon: 'success',
                                confirmButtonColor: '#e67e22'
                            }).then(() => {
                                window.location.href = 'admin-dashboard.html';
                            });
                        } else {
                            Swal.fire({
                                title: 'Đăng nhập thành công!',
                                icon: 'success',
                                confirmButtonColor: '#e67e22'
                            });
                        }
                    })
                    .catch((error) => {
                        Swal.fire({
                            title: 'Lỗi đăng nhập!',
                            text: error.message,
                            icon: 'error',
                            confirmButtonColor: '#e67e22'
                        });
                    });
            });
        }

        // Xử lý đăng ký
        if (registerForm) {
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('register-email').value;
                const password = document.getElementById('register-password').value;
                const confirmPassword = document.getElementById('register-confirm-password').value;
                const username = document.getElementById('register-username').value;

                if (password.length < 6) {
                    Swal.fire({
                        title: 'Lỗi đăng ký!',
                        text: 'Mật khẩu phải có ít nhất 6 ký tự.',
                        icon: 'error',
                        confirmButtonColor: '#e67e22'
                    });
                    return;
                }

                if (password !== confirmPassword) {
                    Swal.fire({
                        title: 'Lỗi đăng ký!',
                        text: 'Mật khẩu nhập lại không khớp.',
                        icon: 'error',
                        confirmButtonColor: '#e67e22'
                    });
                    return;
                }

                firebase.auth().createUserWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        return userCredential.user.updateProfile({
                            displayName: username
                        });
                    })
                    .then(() => {
                        document.getElementById('auth-modal').style.display = 'none';
                        Swal.fire({
                            title: 'Đăng ký thành công!',
                            icon: 'success',
                            confirmButtonColor: '#e67e22'
                        });
                    })
                    .catch((error) => {
                        Swal.fire({
                            title: 'Lỗi đăng ký!',
                            text: error.message,
                            icon: 'error',
                            confirmButtonColor: '#e67e22'
                        });
                    });
            });
        }

        // Xử lý quên mật khẩu
        if (forgotForm) {
            forgotForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('forgot-email').value;

                firebase.auth().sendPasswordResetEmail(email)
                    .then(() => {
                        Swal.fire({
                            title: 'Email đã được gửi!',
                            text: 'Vui lòng kiểm tra email của bạn để đặt lại mật khẩu.',
                            icon: 'success',
                            confirmButtonColor: '#e67e22'
                        });
                    })
                    .catch((error) => {
                        Swal.fire({
                            title: 'Lỗi!',
                            text: error.message,
                            icon: 'error',
                            confirmButtonColor: '#e67e22'
                        });
                    });
            });
        }

        // Xử lý chuyển đổi giữa các form
        document.getElementById('to-register').addEventListener('click', function(e) {
            e.preventDefault();
            loginForm.style.display = 'none';
            registerForm.style.display = 'block';
            forgotForm.style.display = 'none';
        });

        document.getElementById('to-login').addEventListener('click', function(e) {
            e.preventDefault();
            loginForm.style.display = 'block';
            registerForm.style.display = 'none';
            forgotForm.style.display = 'none';
        });

        document.getElementById('to-forgot').addEventListener('click', function(e) {
            e.preventDefault();
            loginForm.style.display = 'none';
            registerForm.style.display = 'none';
            forgotForm.style.display = 'block';
        });

        document.getElementById('back-to-login').addEventListener('click', function(e) {
            e.preventDefault();
            loginForm.style.display = 'block';
            registerForm.style.display = 'none';
            forgotForm.style.display = 'none';
        });

        // Xử lý đóng modal
        if (closeAuthModal) {
            closeAuthModal.addEventListener('click', () => {
                document.getElementById('auth-modal').style.display = 'none';
            });
        }

        // Xử lý mở modal đăng nhập
        if (openLoginModal) {
            openLoginModal.addEventListener('click', (e) => {
                e.preventDefault();
                document.getElementById('auth-modal').style.display = 'block';
            });
        }

        // Đóng modal khi click ra ngoài
        window.onclick = function(event) {
            const modal = document.getElementById('auth-modal');
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };

        // Theo dõi trạng thái đăng nhập
        firebase.auth().onAuthStateChanged(function(user) {
            const loginBtn = document.getElementById('open-login-modal');
            if (user) {
                if (loginBtn) loginBtn.style.display = 'none';
                if (userDropdown) userDropdown.style.display = 'block';
                if (userName) userName.textContent = user.displayName || user.email;
            } else {
                if (loginBtn) loginBtn.style.display = 'block';
                if (userDropdown) userDropdown.style.display = 'none';
            }
        });

        // Xử lý đăng xuất
        if (logoutBtn) {
            logoutBtn.addEventListener('click', function(e) {
                e.preventDefault();
                firebase.auth().signOut().then(() => {
                    Swal.fire({
                        title: 'Đăng xuất thành công!',
                        icon: 'success',
                        confirmButtonColor: '#e67e22'
                    });
                }).catch((error) => {
                    Swal.fire({
                        title: 'Lỗi đăng xuất!',
                        text: error.message,
                        icon: 'error',
                        confirmButtonColor: '#e67e22'
                    });
                });
            });
        }
    });

    // Khởi tạo EmailJS với public key
    (function() {
        emailjs.init("yI6xhpzYSnD3AGzbX");
    })();

    // Xử lý form liên hệ
    const contactForm = document.getElementById('contact-form');
    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();

            // Lấy thông tin từ form
            const name = document.getElementById('contact-name').value;
            const email = document.getElementById('contact-email').value;
            const message = document.getElementById('contact-message').value;

            // Hiển thị loading
            Swal.fire({
                title: 'Đang gửi...',
                text: 'Vui lòng đợi trong giây lát',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });

            // Gửi email
            emailjs.send("service_6spwxxw", "template_vcjlg02", {
                to_email: "quantrikhachsan001@gmail.com",
                from_name: name,
                from_email: email,
                message: message
            })
            .then(function() {
                // Thành công
                Swal.fire({
                    title: 'Gửi thành công!',
                    text: 'Cảm ơn bạn đã liên hệ. Chúng tôi sẽ phản hồi sớm nhất có thể.',
                    icon: 'success',
                    confirmButtonColor: '#e67e22'
                });
                // Reset form
                contactForm.reset();
            })
            .catch(function(error) {
                // Thất bại
                Swal.fire({
                    title: 'Lỗi!',
                    text: 'Không thể gửi email. Vui lòng thử lại sau.',
                    icon: 'error',
                    confirmButtonColor: '#e67e22'
                });
                console.error("Error sending email:", error);
            });
        });
    }

    let autoSlideInterval;
    let currentSlideIndex = 0;

    function startAutoSlide() {
        stopAutoSlide(); // Clear any existing interval
        autoSlideInterval = setInterval(() => {
            document.querySelectorAll('.slider-container').forEach(container => {
                const nextBtn = container.querySelector('.next');
                if (nextBtn) nextSlide(nextBtn);
            });
        }, 4000); // Chuyển slide mỗi 4 giây
    }

    function stopAutoSlide() {
        if (autoSlideInterval) {
            clearInterval(autoSlideInterval);
        }
    }

    function nextSlide(btn) {
        const container = btn.closest('.slider-container');
        const slider = container.querySelector('.slider');
        const dots = container.querySelectorAll('.dot');
        const slides = container.querySelectorAll('.slide');
        
        currentSlideIndex = (currentSlideIndex + 1) % slides.length;
        updateSlider(slider, dots, currentSlideIndex);
    }

    function prevSlide(btn) {
        const container = btn.closest('.slider-container');
        const slider = container.querySelector('.slider');
        const dots = container.querySelectorAll('.dot');
        const slides = container.querySelectorAll('.slide');
        
        currentSlideIndex = (currentSlideIndex - 1 + slides.length) % slides.length;
        updateSlider(slider, dots, currentSlideIndex);
    }

    function currentSlide(dot, index) {
        const container = dot.closest('.slider-container');
        const slider = container.querySelector('.slider');
        const dots = container.querySelectorAll('.dot');
        
        currentSlideIndex = index;
        updateSlider(slider, dots, index);
    }

    function updateSlider(slider, dots, index) {
        const sliderWidth = slider.offsetWidth;
        slider.style.transform = `translateX(${-index * sliderWidth}px)`;
        
        dots.forEach((dot, i) => {
            dot.classList.toggle('active', i === index);
        });
    }

    // Khởi động auto slide và xử lý các sự kiện khi trang load xong
    document.addEventListener('DOMContentLoaded', () => {
        startAutoSlide();
        
        // Thêm sự kiện hover để dừng/tiếp tục auto slide
        document.querySelectorAll('.slider-container').forEach(container => {
            container.addEventListener('mouseenter', stopAutoSlide);
            container.addEventListener('mouseleave', startAutoSlide);
        });
    });

    // Hàm format giá tiền

    // Hàm hiển thị tours
    function displayTours(tours) {
        const toursGrid = document.getElementById('tours-grid');
        if (!toursGrid) return;

        toursGrid.innerHTML = '';
        
        tours.forEach(tour => {
            const tourCard = `
                <div class="tour-card">
                    <div class="tour-image">
                        <img src="${tour.image}" alt="${tour.name}" loading="lazy">
                    </div>
                    <div class="tour-content">
                        <h3 class="tour-title">${tour.name}</h3>
                        <div class="tour-rating">
                            ${Array(5).fill('').map((_, i) => 
                                `<i class="fas fa-star" style="color: ${i < tour.rating ? '#ffd700' : '#ddd'}"></i>`
                            ).join('')}
                        </div>
                        <div class="tour-location">
                            <i class="fas fa-map-marker-alt"></i>
                            ${tour.location}
                        </div>
                        <div class="tour-duration">
                            <i class="far fa-clock"></i>
                            ${tour.duration}
                        </div>
                        <div class="tour-type">
                            <i class="fas fa-tag"></i>
                            ${tour.type === 'adventure' ? 'Mạo hiểm' : tour.type === 'cultural' ? 'Văn hóa' : 'Sinh thái'}
                        </div>
                    </div>
                </div>
            `;
            toursGrid.innerHTML += tourCard;
        });
    }

    // Thêm event listeners cho các nút lọc tour
    document.addEventListener('DOMContentLoaded', () => {
        const tourNavButtons = document.querySelectorAll('.tour-nav button');
        tourNavButtons.forEach(button => {
            button.addEventListener('click', () => {
                const type = button.getAttribute('data-type');
                filterTours(type);
            });
        });

        // Load tất cả tours khi trang được tải
        filterTours('all');
    });

    // Biến toàn cục để lưu trữ danh sách tours
    window.tours = [];
    
    // Hàm format giá tiền
    function formatPrice(price) {
        return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + " đ";
    }

    // Hàm tải danh sách tours từ Firebase
    function loadTours(type = 'all') {
        console.log("Loading tours with type:", type);
        const toursRef = firebase.database().ref('specialTours');
        const toursGrid = document.getElementById('tours-grid');
        if (!toursGrid) return;

        toursGrid.innerHTML = '<div class="text-center w-100 py-5">Đang tải...</div>';

        toursRef.once('value').then((snapshot) => {
            console.log("Raw tours data:", snapshot.val());
            if (snapshot.exists()) {
                const tours = [];
                snapshot.forEach((tourSnapshot) => {
                    tours.push({
                        id: tourSnapshot.key,
                        ...tourSnapshot.val()
                    });
                });
                
                console.log("Processed tours:", tours);
                window.tours = tours;
                
                // Lọc tours theo loại nếu cần
                const filteredTours = type === 'all' ? 
                    tours : 
                    tours.filter(tour => tour.type === type);

                if (filteredTours.length === 0) {
                    toursGrid.innerHTML = `
                        <div class="no-tours text-center w-100 py-5">
                            <i class="fas fa-route" style="font-size:48px;color:#ccc"></i>
                            <br><b>Không tìm thấy tour</b>
                            <br>Hiện chưa có tour nào thuộc loại này. Vui lòng thử lại sau.
                        </div>`;
                    return;
                }

                toursGrid.innerHTML = filteredTours.map(tour => `
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="tour-card h-100">
                            <div class="tour-image">
                                <img src="${tour.image}" alt="${tour.name}" class="img-fluid">
                            </div>
                            <div class="tour-content p-3">
                                <h3 class="tour-name h5 mb-2">${tour.name}</h3>
                                <div class="tour-rating mb-2">
                                    ${Array(5).fill('').map((_, index) => 
                                        `<i class="fas fa-star" style="color: ${index < tour.rating ? '#ffd700' : '#ccc'}"></i>`
                                    ).join('')}
                                </div>
                                <p class="tour-location mb-2">
                                    <i class="fas fa-map-marker-alt text-primary me-1"></i> ${tour.location}
                                </p>
                                <div class="tour-features mb-3">
                                    <div><i class="far fa-clock text-primary me-1"></i> ${tour.duration}</div>
                                    <div><i class="fas fa-tag text-primary me-1"></i> ${tour.type === 'adventure' ? 'Mạo hiểm' : tour.type === 'cultural' ? 'Văn hóa' : 'Sinh thái'}</div>
                                </div>
                                <div class="tour-price mb-3">
                                    <strong>${formatPrice(tour.price)}</strong>
                                </div>
                                <button class="btn btn-primary w-100" onclick="showTourDetail('${tour.id}')">
                                    <i class="fas fa-info-circle me-1"></i> Xem chi tiết
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
            } else {
                toursGrid.innerHTML = `
                    <div class="no-tours text-center w-100 py-5">
                        <i class="fas fa-route" style="font-size:48px;color:#ccc"></i>
                        <br><b>Không tìm thấy tour</b>
                        <br>Hiện chưa có tour nào. Vui lòng thử lại sau.
                    </div>`;
            }
        }).catch((error) => {
            toursGrid.innerHTML = `
                <div class="error text-center w-100 py-5 text-danger">
                    <i class="fas fa-exclamation-triangle" style="font-size:48px;"></i>
                    <br><b>Đã xảy ra lỗi</b>
                    <br>Không thể tải danh sách tour. Vui lòng thử lại sau.
                </div>`;
            console.error('Error loading tours:', error);
        });
    }

    // Hàm tạo card cho tour
    function createTourCard(tour) {
        return `
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="tour-card h-100">
                    <div class="tour-image">
                        <img src="${tour.image}" alt="${tour.name}">
                    </div>
                    <div class="tour-content p-3">
                        <h3 class="tour-name h5 mb-2">${tour.name}</h3>
                        <div class="tour-rating mb-2">
                            ${Array(5).fill('').map((_, index) => 
                                `<i class="fas fa-star" style="color: ${index < tour.rating ? '#ffd700' : '#ccc'}"></i>`
                            ).join('')}
                        </div>
                        <p class="tour-location mb-2">
                            <i class="fas fa-map-marker-alt text-primary me-1"></i> ${tour.location}
                        </p>
                        <div class="tour-features mb-3">
                            <div><i class="far fa-clock text-primary me-1"></i> ${tour.duration}</div>
                            <div><i class="fas fa-tag text-primary me-1"></i> ${tour.type === 'adventure' ? 'Mạo hiểm' : tour.type === 'cultural' ? 'Văn hóa' : 'Sinh thái'}</div>
                        </div>
                        <button class="btn btn-primary w-100" onclick="showTourDetail('${tour.id}')">
                            <i class="fas fa-info-circle me-1"></i> Xem chi tiết
                        </button>                            
                        </button>
                    </div>
                </div>
            </div>
        `;
    }

    // Hàm lọc tours theo loại
    function filterTours(type) {
        // Cập nhật trạng thái active của các nút
        document.querySelectorAll('.tour-nav button').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-type="${type}"]`).classList.add('active');
        
        // Tải lại danh sách tours với bộ lọc
        loadTours(type);
    }

    // Hàm đặt tour
    function bookTour(tourId) {
        console.log("Starting bookTour with tourId:", tourId);
        
        // Kiểm tra đăng nhập
        const user = firebase.auth().currentUser;
        if (!user) {
            Swal.fire({
                title: 'Thông báo',
                text: 'Vui lòng đăng nhập để đặt tour',
                icon: 'warning',
                confirmButtonText: 'Đăng nhập ngay'
            }).then((result) => {
                if (result.isConfirmed) {
                    document.getElementById('open-login-modal').click();
                }
            });
            return;
        }

        // Lấy thông tin tour từ danh sách đã load
        const tour = window.tours.find(t => t.id === tourId);
        console.log("Found tour:", tour);
        
        if (!tour) {
            console.error("Tour not found with ID:", tourId);
            Swal.fire({
                title: 'Lỗi!',
                text: 'Không tìm thấy thông tin tour',
                icon: 'error'
            });
            return;
        }

        // Tạo booking ID cho tour
        const bookingId = `TOUR_${tourId}_${Date.now()}`;
        console.log("Generated bookingId:", bookingId);

        // Tạo dữ liệu booking theo đúng cấu trúc rules mới
        const bookingData = {
            // Các trường bắt buộc theo rules
            email: user.email,
            hotelId: tourId,
            roomId: "TOUR",
            checkIn: new Date().toISOString().split('T')[0],
            checkOut: new Date().toISOString().split('T')[0], // Tạm thời set giống checkIn
            guests: "1",
            name: user.displayName || "Guest User",
            phone: "", // Sẽ cập nhật ở trang checkout
            
            // Các trường bổ sung
            userId: user.uid,
            createdAt: firebase.database.ServerValue.TIMESTAMP,
            status: "pending",
            price: tour.price,
            serviceFee: 200000, // Thêm phí dịch vụ mặc định
            taxAndFees: 200000, // Thêm phí dịch vụ vào taxAndFees để tương thích với check-out.html
            type: "tour",

            // Thông tin tour
            tourDetails: {
                tourId: tourId,
                tourName: tour.name,
                location: tour.location,
                duration: tour.duration,
                image: tour.image,
                description: tour.description,
                rating: tour.rating,
                available: tour.available,
                tourType: tour.type
            }
        };

        console.log("Booking data:", bookingData);

        // Hiển thị loading
        Swal.fire({
            title: 'Đang xử lý...',
            text: 'Vui lòng chờ trong giây lát',
            allowOutsideClick: false,
            didOpen: () => {
                Swal.showLoading();
            }
        });

        // Lưu booking vào Firebase
        firebase.database().ref(`bookings/${bookingId}`).set(bookingData)
            .then(() => {
                console.log("Successfully saved booking to Firebase");
                // Chuyển hướng đến trang check-out
                window.location.href = `check-out.html?bookingId=${bookingId}&type=tour`;
            })
            .catch((error) => {
                console.error("Error saving booking:", error);
                
                // Xử lý lỗi cụ thể
                let errorMessage = 'Không thể đặt tour. Vui lòng thử lại sau.';
                
                if (error.message.includes('permission_denied')) {
                    errorMessage = 'Bạn không có quyền thực hiện thao tác này. Vui lòng đăng nhập lại.';
                }
                
                Swal.fire({
                    title: 'Lỗi!',
                    text: errorMessage,
                    icon: 'error',
                    confirmButtonText: 'Đóng'
                });
            });
    }

    // Khởi tạo khi trang load xong
    document.addEventListener('DOMContentLoaded', function() {
        loadTours();
    });
               function showTourDetail(tourId) {
            // Lấy thông tin tour từ danh sách đã load
            const tour = window.tours.find(t => t.id === tourId);
            if (!tour) return;
        
            // Render nội dung chi tiết vào modal
            document.getElementById('tour-detail-content').innerHTML = `
                <div class="tour-detail">
                    <img src="${tour.image}" alt="${tour.name}" class="img-fluid rounded mb-4" style="width:100%; max-height:400px; object-fit:cover;">
                    <h3 class="mb-4">${tour.name}</h3>
                    
                    <div class="tour-info mb-4">
                        <div class="row">
                            <div class="col-md-6">
                                <p><i class="fas fa-map-marker-alt text-primary me-2"></i> <strong>Địa điểm:</strong> ${tour.location}</p>
                                <p><i class="far fa-clock text-primary me-2"></i> <strong>Thời gian:</strong> ${tour.duration}</p>
                                <p><i class="fas fa-tag text-primary me-2"></i> <strong>Loại tour:</strong> ${tour.type === 'adventure' ? 'Mạo hiểm' : tour.type === 'cultural' ? 'Văn hóa' : 'Sinh thái'}</p>
                            </div>
                            <div class="col-md-6">
                                <p><i class="fas fa-star text-warning me-2"></i> <strong>Đánh giá:</strong> ${tour.rating}/5</p>
                                <p><i class="fas fa-check-circle text-success me-2"></i> <strong>Trạng thái:</strong> ${tour.available ? 'Còn chỗ' : 'Hết chỗ'}</p>
                                <p><i class="fas fa-money-bill-wave text-primary me-2"></i> <strong>Giá:</strong> ${formatPrice(tour.price)}</p>
                            </div>
                        </div>
                    </div>

                    <div class="tour-description mb-4">
                        <h5 class="mb-3">Mô tả tour</h5>
                        <p>${tour.description}</p>
                    </div>

                    <div class="text-center">
                        <button class="btn btn-primary btn-lg" onclick="bookTour('${tour.id}')" ${!tour.available ? 'disabled' : ''}>
                            <i class="fas fa-shopping-cart me-2"></i>
                            ${tour.available ? 'Đặt tour ngay' : 'Hết chỗ'}
                        </button>
                    </div>
                </div>
            `;

            const modalEl = document.getElementById('tourDetailModal');
            const modal = new bootstrap.Modal(modalEl);
            modal.show();
        }

        // Hàm format giá tiền
        function formatPrice(price) {
            return price.toLocaleString('vi-VN') + ' đ';
        }

    </script>
</body>
</html>
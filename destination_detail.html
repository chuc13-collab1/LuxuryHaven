<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi ti·∫øt ƒëi·ªÉm ƒë·∫øn - LuxuryHaven</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
    body {
        background: #f5f6fa;
        font-family: 'Segoe UI', Arial, sans-serif;
    }

        .destination-header {
            position: relative;
        width: 100%;
            aspect-ratio: 16/6;
            background-size: cover;
            background-position: center center;
            color: white;
        display: flex;
        align-items: center;
            justify-content: center;
            min-height: 320px;
            max-height: 420px;
            border-radius: 18px;
            margin-bottom: 40px;
            overflow: hidden;
        }

        .destination-header::before {
        content: '';
        position: absolute;
            top: 0;
        left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.55) 70%, rgba(0,0,0,0.15) 100%);
        z-index: 1;
    }

        .destination-header-content {
        position: relative;
            z-index: 2;
        text-align: center;
            max-width: 900px;
    }

        .destination-title {
            font-size: 3rem;
        font-weight: bold;
        margin-bottom: 18px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.4);
        }

        .destination-overview {
        font-size: 1.2rem;
            line-height: 1.7;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }

        .section-title {
            color: #1a237e;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .info-card {
            background: white;
        border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .highlight-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .highlight-title {
            color: #1a237e;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .food-card {
        background: #fff;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #eee;
        }

        .food-name {
            color: #1a237e;
            font-weight: bold;
        margin-bottom: 8px;
    }

        .hotel-card {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #eee;
        }

        .hotel-name {
            color: #1a237e;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .hotel-star {
            color: #ffc107;
        }

        .itinerary-card {
            background: #fff;
        border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #eee;
        }

        .itinerary-title {
            color: #1a237e;
        font-weight: bold;
        margin-bottom: 15px;
    }

        .activity-list {
            list-style: none;
            padding-left: 0;
        }

        .activity-list li {
            margin-bottom: 8px;
            padding-left: 20px;
        position: relative;
        }

        .activity-list li:before {
            content: '‚Ä¢';
            color: #1a237e;
        position: absolute;
        left: 0;
        }

        .tips-list {
            list-style: none;
            padding-left: 0;
        }

        .tips-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .tips-list li:before {
            content: 'üí°';
            position: absolute;
            left: 0;
        }

        .image-gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 0;
            padding: 20px 0;
        }

        .gallery-img-wrapper {
        position: relative;
        width: 100%;
            aspect-ratio: 16/9;
        background: #fff;
            border-radius: 14px;
        overflow: hidden;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
        display: flex;
        align-items: center;
        justify-content: center;
        }

        .gallery-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
            border-radius: 14px;
            transition: box-shadow 0.3s, transform 0.3s;
            z-index: 1;
        }

        .gallery-img-layer {
        position: absolute;
            left: 0; right: 0; bottom: 0; top: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.18) 60%, rgba(0,0,0,0));
        z-index: 2;
            pointer-events: none;
        }

        .gallery-img-wrapper:hover .gallery-img {
            transform: scale(1.04);
            box-shadow: 0 8px 24px rgba(0,0,0,0.16);
        }

        @media (max-width: 992px) {
            .destination-header {
                aspect-ratio: 16/8;
                min-height: 220px;
                max-height: 300px;
            }
            .destination-title {
        font-size: 2.1rem;
            }
            .image-gallery {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 576px) {
            .destination-header {
                aspect-ratio: 16/12;
                min-height: 140px;
                max-height: 180px;
        border-radius: 8px;
            }
            .destination-title {
                font-size: 1.3rem;
            }
            .image-gallery {
                grid-template-columns: 1fr;
            }
        }
      </style>
</head>
<body>
    <div id="destination-detail">
        <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c render b·∫±ng JavaScript -->
                    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script>
        // Firebase config
    const firebaseConfig = {
        apiKey: "AIzaSyDuX4_RKARM7g0K3BvoZPS8ADxVgrYQKYc",
        authDomain: "websitedatphongkhachsan.firebaseapp.com",
        databaseURL: "https://websitedatphongkhachsan-default-rtdb.firebaseio.com",
        projectId: "websitedatphongkhachsan",
        storageBucket: "websitedatphongkhachsan.firebasestorage.app",
        messagingSenderId: "732884739524",
        appId: "1:732884739524:web:a9c34746f5704a9c3eb091",
        measurementId: "G-RC61EXTZH7"
    };

        // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // L·∫•y slug t·ª´ URL
        const urlParams = new URLSearchParams(window.location.search);
        const slug = urlParams.get('slug');

        // L·∫•y d·ªØ li·ªáu ƒëi·ªÉm ƒë·∫øn t·ª´ Firebase
        if (slug) {
            db.ref(`travelGuide/destinations/${slug}`).once('value')
                .then((snapshot) => {
                    const destination = snapshot.val();
                    if (destination) {
                        renderDestinationDetail(destination);
                        } else {
                        document.getElementById('destination-detail').innerHTML = 
                            '<div class="container mt-5"><h2>Kh√¥ng t√¨m th·∫•y th√¥ng tin ƒëi·ªÉm ƒë·∫øn</h2></div>';
                        }
                    })
                    .catch((error) => {
                    console.error("Error loading destination:", error);
                    document.getElementById('destination-detail').innerHTML = 
                        '<div class="container mt-5"><h2>L·ªói khi t·∫£i th√¥ng tin ƒëi·ªÉm ƒë·∫øn</h2></div>';
                });
        }

        // H√†m render chi ti·∫øt ƒëi·ªÉm ƒë·∫øn
        function renderDestinationDetail(dest) {
            let html = `
                <div class="destination-header" style="background-image: url('${dest.image}')">
                    <div class="destination-header-content">
                        <h1 class="destination-title">${dest.name}</h1>
                        <p class="destination-overview">${dest.overview}</p>
                    </div>
                </div>

                <div class="container">
                    ${dest.best_time_to_visit ? `
                        <div class="info-card">
                            <h3 class="section-title"><i class="fas fa-calendar-alt"></i> Th·ªùi gian l√Ω t∆∞·ªüng</h3>
                            <p>${dest.best_time_to_visit}</p>
                        </div>
                    ` : ''}

                    ${dest.highlights ? `
                        <div class="info-card">
                            <h3 class="section-title"><i class="fas fa-star"></i> ƒêi·ªÉm n·ªïi b·∫≠t</h3>
                            ${dest.highlights.map(h => `
                                <div class="highlight-card">
                                    <div class="highlight-title">${h.title}</div>
                                    <div class="highlight-desc">${h.description}</div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}

                    ${dest.foods ? `
                        <div class="info-card">
                            <h3 class="section-title"><i class="fas fa-utensils"></i> ·∫®m th·ª±c ƒë·∫∑c s·∫Øc</h3>
                            ${dest.foods.map(f => `
                                <div class="food-card">
                                    <div class="food-name">${f.name}</div>
                                    <div class="food-desc">${f.description}</div>
                                    ${f.recommended_places ? `
                                        <div class="food-place mt-2">
                                            <i class="fas fa-store"></i> 
                                            <b>G·ª£i √Ω:</b> ${f.recommended_places.join(', ')}
                                        </div>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}

                    ${dest.accommodations ? `
                        <div class="info-card">
                            <h3 class="section-title"><i class="fas fa-hotel"></i> Kh√°ch s·∫°n g·ª£i √Ω</h3>
                            ${dest.accommodations.map(h => `
                                <div class="hotel-card">
                                    <div class="hotel-name">
                                        ${h.name} 
                                        ${h.star ? `<span class="hotel-star">${'‚òÖ'.repeat(h.star)}</span>` : ''}
                </div>
                                    <div class="hotel-address">
                                        <i class="fas fa-map-pin"></i> ${h.address}
                </div>
                                    <div class="hotel-price">
                                        <i class="fas fa-money-bill"></i> ${h.price_range}
                </div>
                                    ${h.amenities ? `
                                        <div class="hotel-amenities mt-2">
                                            <i class="fas fa-check-circle"></i> ${h.amenities.join(', ')}
        </div>
                                    ` : ''}
    </div>
                            `).join('')}
                        </div>
                    ` : ''}

                    ${dest.suggested_itinerary ? `
                        <div class="info-card">
                            <h3 class="section-title"><i class="fas fa-route"></i> L·ªãch tr√¨nh g·ª£i √Ω</h3>
                            ${dest.suggested_itinerary.map(day => `
                                <div class="itinerary-card">
                                    <div class="itinerary-title">Ng√†y ${day.day}: ${day.title}</div>
                                    <ul class="activity-list">
                                        ${day.activities.map(activity => `
                                            <li>${activity}</li>
                                        `).join('')}
                                    </ul>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}

                    ${dest.travel_tips ? `
                        <div class="info-card">
                            <h3 class="section-title"><i class="fas fa-lightbulb"></i> M·∫πo du l·ªãch</h3>
                            <ul class="tips-list">
                                ${dest.travel_tips.map(tip => `
                                    <li>${tip}</li>
                                `).join('')}
                            </ul>
                        </div>
                    ` : ''}

                    ${dest.images ? `
                        <div class="info-card">
                            <h3 class="section-title">
                                <i class="fas fa-images section-icon"></i>
                                H√¨nh ·∫£nh
                            </h3>
                            <div class="gallery-container">
                                <div class="image-gallery">
                                    ${dest.images.map(img => `
                                        <div class="gallery-img-wrapper">
                                            <img src="${img}" alt="H√¨nh ·∫£nh ${dest.name}" class="gallery-img">
                                            <div class="gallery-img-layer"></div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
            document.getElementById('destination-detail').innerHTML = html;
        }
    </script>
</body>
</html>

